# Story 1.3: Basic App Shell and Navigation

## Status
Draft

## Story
As a user,
I want to see a clean, functional three-column note-taking interface after logging in,
so that I can navigate between notebooks, browse notes, and edit content efficiently.

## Acceptance Criteria
1. Create three-column layout: Notebooks sidebar (left), Notes list (middle), Note editor (right)
2. Implement responsive navigation with collapsible sidebars for mobile
3. Add user profile section in header with logout option
4. Create placeholder pages for notebooks, settings, and help
5. Implement basic routing between main sections
6. Add loading states and error boundaries
7. Create consistent layout components (buttons, inputs, modals)
8. Implement Material UI theming system with light theme
9. Add keyboard shortcuts for navigation
10. Ensure mobile-responsive design with drawer navigation

## Tasks / Subtasks
- [ ] Build three-column app shell layout (AC: 1)
  - [ ] Left sidebar: Notebooks navigation with header, add button, and notebook list
  - [ ] Middle column: Notes list with header, search bar, view toggle, and note items
  - [ ] Right column: Note editor with title, content area, and formatting toolbar
  - [ ] Implement proper column sizing and responsive behavior
- [ ] Implement responsive navigation (AC: 2, 10)
  - [ ] Mobile drawer for notebooks sidebar
  - [ ] Collapsible notes list on smaller screens
  - [ ] Touch-friendly breakpoints and targets
- [ ] Header profile and logout (AC: 3)
  - [ ] Display user name/avatar from Firebase auth state
  - [ ] Add logout action integrated with Firebase auth service
- [ ] Create placeholder content (AC: 4)
  - [ ] Sample notebooks with titles and descriptions
  - [ ] Sample notes with content and formatting
  - [ ] Settings and help placeholder pages
- [ ] Implement routing structure (AC: 5)
  - [ ] Define routes for notebooks, notes, settings, help
  - [ ] Active link styling with yellow accent bars
  - [ ] Focus states and keyboard navigation
- [ ] Add loading and error boundaries (AC: 6)
  - [ ] Global error boundary with fallback UI
  - [ ] Route-level suspense loading spinners
  - [ ] Network error handling for offline states
- [ ] Create Material UI components and theming (AC: 7, 8)
  - [ ] Base components: Button, Input, Modal, List, ListItem
  - [ ] Material UI theme with light theme colors
  - [ ] Typography and spacing system
- [ ] Implement keyboard shortcuts (AC: 9)
  - [ ] Navigation shortcuts (e.g., g+n notebooks, g+s settings)
  - [ ] Note editing shortcuts (e.g., Ctrl+S save, Ctrl+N new)
  - [ ] Accessible skip links and focus management

## Dev Notes

### Architecture Context
Based on the [Figma design reference](https://www.figma.com/design/J4Dsi0o3FCgCgqrvPCAehY/Untitled?node-id=0-1&p=f&t=IQnLuDhX4ei3mhjS-0), the app requires a three-column layout matching the note-taking interface design.

### Technical Stack Requirements
[Source: architecture/biblion-architecture-frontend-only-google-drive-storage-pwa-ready.md#tech-stack]
- React 18.2.0 with TypeScript 5.4.5
- Vite 5.2.0 as bundler with HMR
- React Router 6.26.2 for SPA routing
- Material UI 5.15.20 as UI component library with theming
- Firebase 10.12.2 for authentication
- Emotion for styled components

### Project Structure
[Source: architecture/biblion-architecture-frontend-only-google-drive-storage-pwa-ready.md#project-folder-structure]
- Layout components: `src/components/layout/`
- UI components: `src/components/ui/`
- App shell: `src/app/App.tsx`
- Theme configuration: `src/app/theme.ts`
- Routes: `src/app/routes.tsx`

### Three-Column Layout Design
Based on the Figma design, implement:
- **Left Column (Notebooks)**: Header with "Notebooks" title and yellow add button, vertical icon stack, notebook list with titles, descriptions, and timestamps
- **Middle Column (Notes)**: Header with "Notes" title and yellow add button, search bar with "Q Search notes" placeholder, view toggle (list/grid), note list with titles, descriptions, and timestamps
- **Right Column (Editor)**: Note title, timestamp, content area with formatted text, bottom formatting toolbar with bold, italic, underline, alignment, lists, blockquote, code, share, history, and menu icons

### Material UI Theme Requirements
[Source: architecture/biblion-architecture-frontend-only-google-drive-storage-pwa-ready.md#tech-stack]
- Light theme as primary theme
- Yellow accent color for active states and buttons
- Typography system with proper hierarchy
- Spacing system for consistent layout

### Authentication Integration
[Source: architecture/biblion-architecture-frontend-only-google-drive-storage-pwa-ready.md#firebase-integration]
- Firebase Authentication with Google provider
- User profile display from Firebase auth state
- Logout functionality integrated with Firebase auth service

### Testing
- Component tests: three-column layout renders correctly; responsive behavior at breakpoints
- Routing tests: navigation changes route and highlights active link with yellow accent
- Accessibility checks: tab order, focus traps for modals, ARIA roles
- Material UI component integration tests

## Change Log
| Date | Version | Description | Author |
| ---- | ------- | ----------- | ------ |
| 2025-09-08 | 0.1 | Initial draft created from PRD Epic 1 Story 1.3 | Scrum Master |
| 2025-01-27 | 0.2 | Updated with Figma design reference and three-column layout requirements | Scrum Master |



